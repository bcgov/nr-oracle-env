# Overview

Docs related to the dependency discovery tool that can be used to report on the
dependencies in the THE oracle database.

The tool has two different types of output:
* dependency report
* actual database migration files

## Dependency Report

For a given seed table report out on the dependencies of that table. Supports
two different output formats, one for human readable report, and the other is
JSON.

The purpose of this switch is to view the dependency tree that will be used
to create migrations.

```
uv run main.py show-deps --help

Usage: main.py show-deps [OPTIONS]

Options:
  --seed-object TEXT         Specify the seed table to use to identify
                            dependencies.  [required]
  --schema TEXT             Specify the schema to use to identify
                            dependencies.
  --out-format [json|text]  Specify the output format to use to identify
                            dependencies. Choices: json: Output in JSON
                            format. text: Output in plain readable text
                            format.
  --no-triggers             Include tables and other objects like sequences
                            that are referenced by triggers.
  --help                    Show this message and exit.
```

## Create migrations

Create a migration file for a specific table and all of it dependencies.

```
uv run main.py create-migrations --help

Usage: main.py create-migrations [OPTIONS]

Options:
  --seed-object TEXT         Specify the seed table to use to identify
                            dependencies.  [required]
  --schema TEXT             Specify the schema to use to identify
                            dependencies.
  --migration-folder TEXT   Directory where the migration file will be
                            created, defaults to the data/migrations directory
  --migration-version TEXT  The version of the migration file to create,
                            defaults to 1.0.0
  --migration-name TEXT     The name to append to the version number of the
                            migration file that is being generated by this
                            script.  defaults to first_migration
```

